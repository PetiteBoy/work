{"version":3,"sources":["webpack:///./src/router/index.js","webpack:///./src/App.vue?35a7","webpack:///./configure.js","webpack:///App.vue","webpack:///Room.vue","webpack:///./src/main.js","webpack:///./src/App.vue?6258","webpack:///./src/views/Room.vue?3251","webpack:///./src/views/Room.vue?c434","webpack:///./src/App.vue?fa4e","webpack:///./src/views/Room.vue?7006"],"names":["Vue","use","Router","routes","path","name","component","Room","config","productionTip","el","router","template","components","App"],"mappings":"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AACA;AACA;AACA;AACA,KAjKA;AAkKA,gBAlKA,0BAkKA;AACA;AACA;AApKA;AAlDA,G;;;;;;;ACzFA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAEAP,oDAAGA,CAACQ,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;;AAEA;AACA,IAAIT,oDAAJ,CAAQ;AACNU,MAAI,MADE;AAENC,kEAFM;AAGNC,YAAU,QAHJ;AAINC,cAAY,EAAEC,iDAAF;AAJN,CAAR,E;;;;;;;;;ACTA,yC;;;;;;ACAA,yC;;;;;;;;;ACAA;AACA,EAAE,mBAAO,CAAC,EAAkX;AAC5X;AACA,gBAAgB,mBAAO,CAAC,CAAyD;AACjF;AACA,EAAE,mBAAO,CAAC,CAA0F;AACpG;AACA,EAAE,mBAAO,CAAC,EAAiS;AAC3S;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChBA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;ACND,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,qB","file":"static/js/app.9238f1dbfdeff878dd49.js","sourcesContent":["import Vue from 'vue';\r\nimport Router from 'vue-router';\r\nimport Room from '../views/Room';\r\n\r\nVue.use(Router);\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'room',\r\n      component: Room,\r\n    },\r\n  ],\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8b3619be\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8b3619be\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 4\n// module chunks = 1","const API_PORT = '3000';\r\n\r\nconst API_ROOT = `http://localhost:${API_PORT}`;\r\n\r\nconst DEFAULT_ICE_SERVER = {\r\n  url: 'turn:47.52.156.68:3478',\r\n  credential: 'zmecust',\r\n  username: 'zmecust',\r\n};\r\n\r\nmodule.exports = { API_PORT, API_ROOT, DEFAULT_ICE_SERVER };\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./configure.js\n// module id = 5\n// module chunks = 1","<template>\r\n  <div id=\"app\">\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default { name: 'app' };\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// App.vue?0d423d6c","<template>\r\n  <div>\r\n    <div class=\"container text-center\" v-show=\"show\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-4 col-md-offset-4\">\r\n          <form class=\"form\" action @submit.prevent=\"submit()\">\r\n            <h2>WebRTC Video Demo. Please Sign In</h2>\r\n            <br />\r\n            <input\r\n              class=\"form-control\"\r\n              type=\"text\"\r\n              placeholder=\"请输入您的昵称\"\r\n              required\r\n              autofocus\r\n              v-model=\"user_name\"\r\n            />\r\n            <br />\r\n            <button class=\"btn btn-primary btn-block\" type=\"submit\">创建昵称</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"container text-center\" v-show=\"!show\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-3\" style=\"height: 50%\">\r\n          <ul class=\"list-group\">\r\n            <li class=\"list-group-item\">昵称: {{ user_name }}</li>\r\n            <li class=\"list-group-item\">当前在线人数: {{ Object.getOwnPropertyNames(users).length - 1 }}</li>\r\n            <li class=\"list-group-item\">\r\n              在线用户:\r\n              <div v-for=\"(user, index) in users\" :key=\"index\">\r\n                <br />\r\n                <span>{{ index }}</span>\r\n                <span :class=\"[user ? 'green_color' : 'red_color']\">{{ user ? '(在线)' : '(正在通话)' }}</span>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n          <div class=\"row text-center\">\r\n            <div class=\"col-md-12\">\r\n              <input\r\n                class=\"form-control\"\r\n                type=\"text\"\r\n                v-model=\"call_username\"\r\n                placeholder=\"username to call\"\r\n              />\r\n              <br />\r\n              <button class=\"btn-success btn\" :disabled=\"!users[user_name]\" @click=\"call\">Call</button>\r\n              <button class=\"btn-danger btn\" :disabled=\"users[user_name]\" @click=\"hangUp\">Hang Up</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-9\">\r\n          <video id=\"localVideo\" autoplay></video>\r\n          <video id=\"remoteVideo\" :src=\"remote_video\" autoplay></video>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"preview\" v-show=\"accept_video\">\r\n      <div class=\"preview-wrapper\">\r\n        <div class=\"preview-container\">\r\n          <div class=\"preview-body\">\r\n            <h4>您有视频邀请，是否接受?</h4>\r\n            <button class=\"btn-success btn\" @click=\"accept\">接受</button>\r\n            <button class=\"btn-danger btn\" style=\"margin-right: 70px\" @click=\"reject\">拒绝</button>\r\n          </div>\r\n          <div class=\"confirm\" @click=\"closePreview\">×</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as config from '../../configure';\r\n\r\nnavigator.getUserMedia = navigator.getUserMedia || navigator.mozGetUserMedia || navigator.webkitGetUserMedia;\r\nwindow.RTCPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;\r\nwindow.RTCIceCandidate = window.RTCIceCandidate || window.mozRTCIceCandidate || window.webkitRTCIceCandidate;\r\nwindow.RTCSessionDescription =\r\n  window.RTCSessionDescription || window.mozRTCSessionDescription || window.webkitRTCSessionDescription;\r\n\r\nconst socket = io.connect(config.API_ROOT);\r\nconst configuration = {\r\n  iceServers: [config.DEFAULT_ICE_SERVER],\r\n};\r\n\r\nlet localStream, peerConn;\r\nlet connectedUser = null;\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user_name: '',\r\n      show: true,\r\n      users: '',\r\n      call_username: '',\r\n      remote_video: '',\r\n      accept_video: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    socket.on(\r\n      'message',\r\n      function(data) {\r\n        console.log(data);\r\n        switch (data.event) {\r\n          case 'show':\r\n            this.users = data.allUsers;\r\n            break;\r\n          case 'join':\r\n            this.handleLogin(data);\r\n            break;\r\n          case 'call':\r\n            this.handleCall(data);\r\n            break;\r\n          case 'accept':\r\n            this.handleAccept(data);\r\n            break;\r\n          case 'offer':\r\n            this.handleOffer(data);\r\n            break;\r\n          case 'candidate':\r\n            this.handleCandidate(data);\r\n            break;\r\n          case 'msg':\r\n            this.handleMsg(data);\r\n            break;\r\n          case 'answer':\r\n            this.handleAnswer(data);\r\n            break;\r\n          case 'leave':\r\n            this.handleLeave();\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }.bind(this)\r\n    );\r\n  },\r\n  methods: {\r\n    submit() {\r\n      if (this.user_name !== '') {\r\n        this.send({\r\n          event: 'join',\r\n          name: this.user_name,\r\n        });\r\n      }\r\n    },\r\n    send(message) {\r\n      if (connectedUser !== null) {\r\n        message.connectedUser = connectedUser;\r\n      }\r\n      socket.send(JSON.stringify(message));\r\n    },\r\n    handleLogin(data) {\r\n      if (data.success === false) {\r\n        alert('Ooops...please try a different username');\r\n      } else {\r\n        this.show = false;\r\n        this.users = data.allUsers;\r\n        this.initCreate();\r\n      }\r\n    },\r\n    addVideoURL(elementId, stream) {\r\n      var video = document.getElementById(elementId);\r\n      // Older brower may have no srcObject\r\n      if ('srcObject' in video) {\r\n        video.srcObject = stream;\r\n      } else {\r\n        // 防止在新的浏览器里使用它，应为它已经不再支持了\r\n        video.src = window.URL.createObjectURL(stream);\r\n      }\r\n    },\r\n    initCreate() {\r\n      const self = this;\r\n      navigator.mediaDevices\r\n        .getUserMedia({ audio: true, video: true })\r\n        .then(function(stream) {\r\n          var video = document.getElementById('localVideo');\r\n          self.addVideoURL('localVideo', stream);\r\n          video.muted = true;\r\n          localStream = stream;\r\n        })\r\n        .catch(function(err) {\r\n          console.log(err.name + ': ' + err.message);\r\n        });\r\n    },\r\n    call() {\r\n      if (this.call_username.length > 0) {\r\n        if (this.users[this.call_username] === true) {\r\n          connectedUser = this.call_username;\r\n          this.createConnection();\r\n          this.send({\r\n            event: 'call',\r\n          });\r\n        } else {\r\n          alert('The current user is calling, try another');\r\n        }\r\n      } else {\r\n        alert('Ooops...this username cannot be empty, please try again');\r\n      }\r\n    },\r\n    createConnection() {\r\n      peerConn = new RTCPeerConnection(configuration);\r\n      peerConn.addStream(localStream);\r\n      peerConn.onaddstream = e => {\r\n        this.addVideoURL('remoteVideo', e.stream);\r\n      };\r\n      peerConn.onicecandidate = event => {\r\n        setTimeout(() => {\r\n          if (event.candidate) {\r\n            this.send({\r\n              event: 'candidate',\r\n              candidate: event.candidate,\r\n            });\r\n          }\r\n        });\r\n      };\r\n    },\r\n    handleCall(data) {\r\n      this.accept_video = true;\r\n      connectedUser = data.name;\r\n    },\r\n    reject() {\r\n      this.send({\r\n        event: 'accept',\r\n        accept: false,\r\n      });\r\n      this.accept_video = false;\r\n    },\r\n    accept() {\r\n      this.send({\r\n        event: 'accept',\r\n        accept: true,\r\n      });\r\n      this.accept_video = false;\r\n    },\r\n    handleAccept(data) {\r\n      if (data.accept) {\r\n        // Create an offer\r\n        peerConn.createOffer(\r\n          offer => {\r\n            this.send({\r\n              event: 'offer',\r\n              offer: offer,\r\n            });\r\n            peerConn.setLocalDescription(offer);\r\n          },\r\n          error => {\r\n            alert('Error when creating an offer');\r\n          }\r\n        );\r\n      } else {\r\n        alert('对方已拒绝');\r\n      }\r\n    },\r\n    handleOffer(data) {\r\n      connectedUser = data.name;\r\n      this.createConnection();\r\n      peerConn.setRemoteDescription(new RTCSessionDescription(data.offer));\r\n      // Create an answer to an offer\r\n      peerConn.createAnswer(\r\n        answer => {\r\n          peerConn.setLocalDescription(answer);\r\n          this.send({\r\n            event: 'answer',\r\n            answer: answer,\r\n          });\r\n        },\r\n        error => {\r\n          alert('Error when creating an answer');\r\n        }\r\n      );\r\n    },\r\n    handleMsg(data) {\r\n      console.log(data.message);\r\n    },\r\n    handleAnswer(data) {\r\n      peerConn.setRemoteDescription(new RTCSessionDescription(data.answer));\r\n    },\r\n    handleCandidate(data) {\r\n      // ClientB 通过 PeerConnection 的 AddIceCandidate 方法保存起来\r\n      peerConn.addIceCandidate(new RTCIceCandidate(data.candidate));\r\n    },\r\n    hangUp() {\r\n      this.send({\r\n        event: 'leave',\r\n      });\r\n      this.handleLeave();\r\n    },\r\n    handleLeave() {\r\n      alert('通话已结束');\r\n      connectedUser = null;\r\n      this.remote_video = '';\r\n      peerConn.close();\r\n      peerConn.onicecandidate = null;\r\n      peerConn.onaddstream = null;\r\n      if (peerConn.signalingState === 'closed') {\r\n        this.initCreate();\r\n      }\r\n    },\r\n    closePreview() {\r\n      this.accept_video = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.preview {\r\n  position: fixed;\r\n  z-index: 9998;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: table;\r\n  transition: opacity 0.3s ease;\r\n}\r\n.preview-wrapper {\r\n  display: table-cell;\r\n  vertical-align: middle;\r\n}\r\n.preview-container {\r\n  width: 400px;\r\n  height: 150px;\r\n  margin: 0px auto;\r\n  background-color: #fff;\r\n  border-radius: 2px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\r\n  transition: all 0.3s ease;\r\n  font-family: Helvetica, Arial, sans-serif;\r\n  position: relative;\r\n}\r\n.confirm {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 0px;\r\n  font-size: 40px;\r\n}\r\n.confirm:hover {\r\n  color: red;\r\n  cursor: pointer;\r\n}\r\n.preview-body {\r\n  position: absolute;\r\n  width: 380px;\r\n  height: 130px;\r\n  margin: 10px 10px 10px 10px;\r\n}\r\n.preview-body > h4 {\r\n  position: absolute;\r\n  top: 25%;\r\n  left: 20%;\r\n}\r\n.preview-body > button {\r\n  position: absolute;\r\n  right: 10px;\r\n  bottom: 0px;\r\n}\r\n.green_color {\r\n  color: green;\r\n}\r\n.red_color {\r\n  color: red;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Room.vue?73ecab42","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue';\r\nimport App from './App';\r\nimport router from './router';\r\n\r\nVue.config.productionTip = false;\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  template: '<App/>',\r\n  components: { App },\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-8b3619be\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/App.vue\n// module id = 12\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-ba9f96e8\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/Room.vue\n// module id = 13\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ba9f96e8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Room.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Room.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ba9f96e8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Room.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Room.vue\n// module id = 17\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-8b3619be\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 18\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.show),\n      expression: \"show\"\n    }],\n    staticClass: \"container text-center\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-md-4 col-md-offset-4\"\n  }, [_c('form', {\n    staticClass: \"form\",\n    attrs: {\n      \"action\": \"\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        return _vm.submit()\n      }\n    }\n  }, [_c('h2', [_vm._v(\"WebRTC Video Demo. Please Sign In\")]), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.user_name),\n      expression: \"user_name\"\n    }],\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"请输入您的昵称\",\n      \"required\": \"\",\n      \"autofocus\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.user_name)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.user_name = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('button', {\n    staticClass: \"btn btn-primary btn-block\",\n    attrs: {\n      \"type\": \"submit\"\n    }\n  }, [_vm._v(\"创建昵称\")])])])])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.show),\n      expression: \"!show\"\n    }],\n    staticClass: \"container text-center\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-md-3\",\n    staticStyle: {\n      \"height\": \"50%\"\n    }\n  }, [_c('ul', {\n    staticClass: \"list-group\"\n  }, [_c('li', {\n    staticClass: \"list-group-item\"\n  }, [_vm._v(\"昵称: \" + _vm._s(_vm.user_name))]), _vm._v(\" \"), _c('li', {\n    staticClass: \"list-group-item\"\n  }, [_vm._v(\"当前在线人数: \" + _vm._s(Object.getOwnPropertyNames(_vm.users).length - 1))]), _vm._v(\" \"), _c('li', {\n    staticClass: \"list-group-item\"\n  }, [_vm._v(\"\\n            在线用户:\\n            \"), _vm._l((_vm.users), function(user, index) {\n    return _c('div', {\n      key: index\n    }, [_c('br'), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(index))]), _vm._v(\" \"), _c('span', {\n      class: [user ? 'green_color' : 'red_color']\n    }, [_vm._v(_vm._s(user ? '(在线)' : '(正在通话)'))])])\n  })], 2)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"row text-center\"\n  }, [_c('div', {\n    staticClass: \"col-md-12\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.call_username),\n      expression: \"call_username\"\n    }],\n    staticClass: \"form-control\",\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"username to call\"\n    },\n    domProps: {\n      \"value\": (_vm.call_username)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.call_username = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('button', {\n    staticClass: \"btn-success btn\",\n    attrs: {\n      \"disabled\": !_vm.users[_vm.user_name]\n    },\n    on: {\n      \"click\": _vm.call\n    }\n  }, [_vm._v(\"Call\")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"btn-danger btn\",\n    attrs: {\n      \"disabled\": _vm.users[_vm.user_name]\n    },\n    on: {\n      \"click\": _vm.hangUp\n    }\n  }, [_vm._v(\"Hang Up\")])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-md-9\"\n  }, [_c('video', {\n    attrs: {\n      \"id\": \"localVideo\",\n      \"autoplay\": \"\"\n    }\n  }), _vm._v(\" \"), _c('video', {\n    attrs: {\n      \"id\": \"remoteVideo\",\n      \"src\": _vm.remote_video,\n      \"autoplay\": \"\"\n    }\n  })])])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.accept_video),\n      expression: \"accept_video\"\n    }],\n    staticClass: \"preview\"\n  }, [_c('div', {\n    staticClass: \"preview-wrapper\"\n  }, [_c('div', {\n    staticClass: \"preview-container\"\n  }, [_c('div', {\n    staticClass: \"preview-body\"\n  }, [_c('h4', [_vm._v(\"您有视频邀请，是否接受?\")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"btn-success btn\",\n    on: {\n      \"click\": _vm.accept\n    }\n  }, [_vm._v(\"接受\")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"btn-danger btn\",\n    staticStyle: {\n      \"margin-right\": \"70px\"\n    },\n    on: {\n      \"click\": _vm.reject\n    }\n  }, [_vm._v(\"拒绝\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"confirm\",\n    on: {\n      \"click\": _vm.closePreview\n    }\n  }, [_vm._v(\"×\")])])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-ba9f96e8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/Room.vue\n// module id = 19\n// module chunks = 1"],"sourceRoot":""}